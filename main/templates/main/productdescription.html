{% extends 'main/base.html' %}
  {% load static %}
   {% block css%}
      <link rel ="stylesheet" href= "{% static 'css/productdescription.css' %}" >
  {% endblock%} 
  {% block content %}
  <div class="container">
                   <div class="row">          
             <div class="pdleft col-md-6">  
                             <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">    
                                      <ol class="carousel-indicators">   
                                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>  
                                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>     
                                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li> 
                                     </ol>   
                                      <div class="carousel-inner">  
                                        <div class="carousel-item active">  
                                         <img src="/media/{{product.image1}}" class="d-block w-100" alt="...">  
                                        </div>  
                                         <div class="carousel-item">  
                                           <img src="/media/{{product.image2}}" class="d-block w-100" alt="...">  
                                         </div>  
                                       <div class="carousel-item">   
                                         <img src="/media/{{product.image3}}" class="d-block w-100" alt="...">  
                                       </div>  
                                       </div>  
                                       <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">  
                                       <span class="carousel-control-prev-icon" aria-hidden="true"></span>  
                                       <span class="sr-only">Previous</span> 
                                      </a>  
                                     <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">  
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>   
                                         <span class="sr-only">Next</span>
                                      </a>  
                                    </div>  
                       </div>  
                       <div class="pdright col-md-6"> 
                              <div class="row">  
                                     <div class="col-md-12"> 
                                    {{product.name}}
                          </div>  
                      </div>  
                     <br>  
                               <div class="row proddes">   
                                          <div class="col-md-12">  
                                            <p class="description">   
                                     
                                            {{product.description}} 
                                           </p>  
                                   </div>  
                              </div>  
                              <br>  
                              <div class="row prodprice">  
                                   <div class="col-md-12 bottom-rule"> 
                                                <h3 class="product-price" style="color:green;font-size:1.2em;">{{product.price}}</h3> 
      								</div>
   								</div> 
   								<br>
   							<div class="row prodprice">  
                                   <div class="col-md-12 bottom-rule"> 
                                                <h3 class="product-price" style="color:green;font-size:1.2em;">{{product.address}}</h3> 
      								</div>
   								</div> 
   </div>   
     <div class="productbutt"> 
   
    <button type="button" id="buy" class="btn btn-primary buy">Buy Now</button> 
     </div>  
     </div>

</div>
     {% endblock %}


    {% block scripts %}
      <script type="text/javascript" src="{% static 'js/search.js' %}"></script>
      <script type="text/javascript" >
      	const bar = document.getElementsByClassName('productbutt')[0];
	let butt = document.getElementById('buy');
	let cancel = document.createElement('button');
	cancel.setAttribute('class','btn btn-danger');
	cancel.innerText = 'Cancel Request';
	let details = document.createElement('button');
	details.setAttribute('class','btn btn-info');
	details.innerText = 'Contact Seller';

	butt.addEventListener('click',removeMe);
	details.addEventListener('click',giveDetails);
	cancel.addEventListener('click',backtoNormal);
	function removeMe()
	{
	bar.appendChild(cancel);
	bar.append(details);
	bar.removeChild(butt);
	}
	function giveDetails()
	{ 
	bar.removeChild(cancel);
	let number = document.createElement('div');
	number.setAttribute('class','set');
	number.innerHTML = 'Name: {{product.seller}} <br/> Number: {{product.phone_number}}';
	bar.removeChild(details);
	bar.appendChild(number);
	}
	function backtoNormal()
	{ 
	bar.removeChild(cancel);
	bar.removeChild(details);
	bar.append(butt);
	
	}
      </script>
  {% endblock %}
 